<?xml version="1.0" encoding="UTF-8"?>
<!--
//================================================================================
//   The confidential and proprietary information contained in this file may
//   only be used by a person authorised under and to the extent permitted
//   by a subsisting licensing agreement from Arm Limited or its affiliates.
//
//          (C) COPYRIGHT 2023-2025 Arm Limited or its affiliates.
//              ALL RIGHTS RESERVED
//
//   This entire notice must be reproduced on all copies of this file
//   and copies of this file may only be made by a person if such person is
//   permitted to do so under the terms of a subsisting license agreement
//   from Arm Limited or its affiliates.
//================================================================================
-->
<spirit:abstractionDefinition xmlns:spirit="http://www.spiritconsortium.org/XMLSchema/SPIRIT/1685-2009" xmlns:arm="http://www.arm.com/SPIRIT/1685-2009" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.spiritconsortium.org/XMLSchema/SPIRIT/1685-2009 http://www.spiritconsortium.org/XMLSchema/SPIRIT/1685-2009/index.xsd">
    <spirit:vendor>amba.com</spirit:vendor>
    <spirit:library>AMBA5</spirit:library>
    <spirit:name>GFB_rtl</spirit:name>
    <spirit:version>r0p0_0</spirit:version>
    <spirit:busType spirit:vendor="amba.com" spirit:library="AMBA5" spirit:name="GFB" spirit:version="r0p0_0"/>
    <spirit:ports>
        <spirit:port>
            <spirit:logicalName>FCLK</spirit:logicalName>
            <spirit:description>The bus clock times all bus transfers. All signal timings are related to the rising edge of FCLK.</spirit:description>
            <spirit:wire>
                <spirit:qualifier>
                    <spirit:isClock>true</spirit:isClock>
                </spirit:qualifier>
                <spirit:onMaster>
                    <spirit:presence>optional</spirit:presence>
                    <spirit:width>1</spirit:width>
                    <spirit:direction>in</spirit:direction>
                </spirit:onMaster>
                <spirit:onSlave>
                    <spirit:presence>optional</spirit:presence>
                    <spirit:width>1</spirit:width>
                    <spirit:direction>in</spirit:direction>
                </spirit:onSlave>
                <spirit:requiresDriver spirit:driverType="clock">true</spirit:requiresDriver>
            </spirit:wire>
        </spirit:port>
        <spirit:port>
            <spirit:logicalName>FCLKEN</spirit:logicalName>
            <spirit:description>This is an optional enable signal for FCLK domain</spirit:description>
            <spirit:wire>
                <spirit:onMaster>
                    <spirit:presence>optional</spirit:presence>
                    <spirit:width>1</spirit:width>
                    <spirit:direction>in</spirit:direction>
                </spirit:onMaster>
                <spirit:onSlave>
                    <spirit:presence>optional</spirit:presence>
                    <spirit:width>1</spirit:width>
                    <spirit:direction>in</spirit:direction>
                </spirit:onSlave>
                <spirit:defaultValue>1</spirit:defaultValue>
            </spirit:wire>
            <spirit:vendorExtensions>
                <arm:isClockEnable>true</arm:isClockEnable>
            </spirit:vendorExtensions>
        </spirit:port>
        <spirit:port>
            <spirit:logicalName>FRESETn</spirit:logicalName>
            <spirit:description>The bus reset signal is active LOW and resets the system and the bus. This is the only active LOW GFB signal.</spirit:description>
            <spirit:wire>
                <spirit:qualifier>
                    <spirit:isReset>true</spirit:isReset>
                </spirit:qualifier>
                <spirit:onMaster>
                    <spirit:presence>optional</spirit:presence>
                    <spirit:width>1</spirit:width>
                    <spirit:direction>in</spirit:direction>
                </spirit:onMaster>
                <spirit:onSlave>
                    <spirit:presence>optional</spirit:presence>
                    <spirit:width>1</spirit:width>
                    <spirit:direction>in</spirit:direction>
                </spirit:onSlave>
                <spirit:requiresDriver spirit:driverType="singleShot">true</spirit:requiresDriver>
            </spirit:wire>
        </spirit:port>
        <spirit:port>
            <spirit:logicalName>FADDR</spirit:logicalName>
            <spirit:description>Simple byte address, where MSB bit has dedicated functions. This is the maximum width of the power of 2, byte based address range needed for the main memory range and any additional memory area (e.g information page) of the flash macro. The extra memory area is anticipated to be smaller than the main memory area but still to have a clear separation between the two address spaces the MSB bit is used to select between the main and the extra range.</spirit:description>
            <spirit:wire>
                <spirit:qualifier>
                    <spirit:isAddress>true</spirit:isAddress>
                </spirit:qualifier>
                <spirit:onMaster>
                    <spirit:presence>required</spirit:presence>
                    <spirit:direction>out</spirit:direction>
                </spirit:onMaster>
                <spirit:onSlave>
                    <spirit:presence>required</spirit:presence>
                    <spirit:direction>in</spirit:direction>
                </spirit:onSlave>
                <spirit:defaultValue>0</spirit:defaultValue>
            </spirit:wire>
        </spirit:port>
        <spirit:port>
            <spirit:logicalName>FCMD</spirit:logicalName>
            <spirit:description>Command to be executed by the flash. List of commands available are:
000-IDLE
001-READ
010-WRITE
011-ROW WRITE
100-ERASE
111-MASS ERASE</spirit:description>
            <spirit:wire>
                <spirit:onMaster>
                    <spirit:presence>required</spirit:presence>
                    <spirit:width>3</spirit:width>
                    <spirit:direction>out</spirit:direction>
                </spirit:onMaster>
                <spirit:onSlave>
                    <spirit:presence>required</spirit:presence>
                    <spirit:width>3</spirit:width>
                    <spirit:direction>in</spirit:direction>
                </spirit:onSlave>
                <spirit:defaultValue>0</spirit:defaultValue>
            </spirit:wire>
        </spirit:port>
        <spirit:port>
            <spirit:logicalName>FWDATA</spirit:logicalName>
            <spirit:description>Write data to the flash. The width of the write data path defined by the attached flash macro.</spirit:description>
            <spirit:wire>
                <spirit:qualifier>
                    <spirit:isData>true</spirit:isData>
                </spirit:qualifier>
                <spirit:onMaster>
                    <spirit:presence>required</spirit:presence>
                    <spirit:direction>out</spirit:direction>
                </spirit:onMaster>
                <spirit:onSlave>
                    <spirit:presence>required</spirit:presence>
                    <spirit:direction>in</spirit:direction>
                </spirit:onSlave>
                <spirit:defaultValue>0</spirit:defaultValue>
            </spirit:wire>
        </spirit:port>
        <spirit:port>
            <spirit:logicalName>FABORT</spirit:logicalName>
            <spirit:description>Signal to cancel a previously accepted command.</spirit:description>
            <spirit:wire>
                <spirit:onMaster>
                    <spirit:presence>optional</spirit:presence>
                    <spirit:width>1</spirit:width>
                    <spirit:direction>out</spirit:direction>
                </spirit:onMaster>
                <spirit:onSlave>
                    <spirit:presence>optional</spirit:presence>
                    <spirit:width>1</spirit:width>
                    <spirit:direction>in</spirit:direction>
                </spirit:onSlave>
                <spirit:defaultValue>0</spirit:defaultValue>
            </spirit:wire>
        </spirit:port>
        <spirit:port>
            <spirit:logicalName>FRDATA</spirit:logicalName>
            <spirit:description>Read data from the flash. The width of the read data path defined by the attached flash macro.</spirit:description>
            <spirit:wire>
                <spirit:qualifier>
                    <spirit:isData>true</spirit:isData>
                </spirit:qualifier>
                <spirit:onMaster>
                    <spirit:presence>required</spirit:presence>
                    <spirit:direction>in</spirit:direction>
                </spirit:onMaster>
                <spirit:onSlave>
                    <spirit:presence>required</spirit:presence>
                    <spirit:direction>out</spirit:direction>
                </spirit:onSlave>
                <spirit:defaultValue>0</spirit:defaultValue>
            </spirit:wire>
        </spirit:port>
        <spirit:port>
            <spirit:logicalName>FREADY</spirit:logicalName>
            <spirit:description>Command ready indication. Also used for accepting new commands. This signal can be driven LOW to extend a transfer.</spirit:description>
            <spirit:wire>
                <spirit:onMaster>
                    <spirit:presence>required</spirit:presence>
                    <spirit:width>1</spirit:width>
                    <spirit:direction>in</spirit:direction>
                </spirit:onMaster>
                <spirit:onSlave>
                    <spirit:presence>required</spirit:presence>
                    <spirit:width>1</spirit:width>
                    <spirit:direction>out</spirit:direction>
                </spirit:onSlave>
            </spirit:wire>
        </spirit:port>
        <spirit:port>
            <spirit:logicalName>FRESP</spirit:logicalName>
            <spirit:description>Error indication from the flash for the previously accepted command. When LOW, the FRESP signal indicates that the transfer status is OKAY. When HIGH, the FRESP signal indicates that the transfer status is ERROR.</spirit:description>
            <spirit:wire>
                <spirit:onMaster>
                    <spirit:presence>required</spirit:presence>
                    <spirit:width>1</spirit:width>
                    <spirit:direction>in</spirit:direction>
                </spirit:onMaster>
                <spirit:onSlave>
                    <spirit:presence>required</spirit:presence>
                    <spirit:width>1</spirit:width>
                    <spirit:direction>out</spirit:direction>
                </spirit:onSlave>
            </spirit:wire>
        </spirit:port>
    </spirit:ports>
    <spirit:description>The current file describes the RTL view of a GFB interface</spirit:description>
    <spirit:vendorExtensions>
        <arm:revision>2</arm:revision>
        <arm:supportedSpecifications>
            <arm:supportedSpecification>IHI0083A</arm:supportedSpecification>
            <arm:supportedSpecification>IHI0083A.b</arm:supportedSpecification>
        </arm:supportedSpecifications>
    </spirit:vendorExtensions>
</spirit:abstractionDefinition>